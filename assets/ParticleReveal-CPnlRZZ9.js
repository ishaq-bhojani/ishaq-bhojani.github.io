import{r as e,u as z,j as i,m as A}from"./index-DiVj13-X.js";import{P as S,v as _,u as w,D as g,M as P,V as R,C as k,A as U}from"./constants-0AB08n6d.js";import{_ as y}from"./extends-CF3RwP-h.js";const E=_>=154?"opaque_fragment":"output_fragment";class F extends S{constructor(a){super(a),this.onBeforeCompile=(t,c)=>{const{isWebGL2:n}=c.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${E}>`,`
        ${n?`#include <${E}>`:`#extension GL_OES_standard_derivatives : enable
#include <${E}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${_>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const N=e.forwardRef((s,a)=>{const[t]=e.useState(()=>new F(null));return e.createElement("primitive",y({},s,{object:t,ref:a,attach:"material"}))});let f,h;const C=e.createContext(null),M=new P,j=new R,W=e.forwardRef(({children:s,range:a,limit:t=1e3,...c},n)=>{const r=e.useRef(null);e.useImperativeHandle(n,()=>r.current,[]);const[d,o]=e.useState([]),[[u,l,b]]=e.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);e.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),w(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),M.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(t,a!==void 0?a:t,d.length),f=0;f<d.length;f++)h=d[f].current,h.getWorldPosition(j).applyMatrix4(M),j.toArray(u,f*3),r.current.geometry.attributes.position.needsUpdate=!0,h.matrixWorldNeedsUpdate=!0,h.color.toArray(l,f*3),r.current.geometry.attributes.color.needsUpdate=!0,b.set([h.size],f),r.current.geometry.attributes.size.needsUpdate=!0});const v=e.useMemo(()=>({getParent:()=>r,subscribe:p=>(o(m=>[...m,p]),()=>o(m=>m.filter(x=>x.current!==p.current)))}),[]);return e.createElement("points",y({userData:{instances:d},matrixAutoUpdate:!1,ref:r,raycast:()=>null},c),e.createElement("bufferGeometry",null,e.createElement("bufferAttribute",{attach:"attributes-position",count:u.length/3,array:u,itemSize:3,usage:g}),e.createElement("bufferAttribute",{attach:"attributes-color",count:l.length/3,array:l,itemSize:3,usage:g}),e.createElement("bufferAttribute",{attach:"attributes-size",count:b.length,array:b,itemSize:1,usage:g})),e.createElement(C.Provider,{value:v},s))}),I=e.forwardRef(({children:s,positions:a,colors:t,sizes:c,stride:n=3,...r},d)=>{const o=e.useRef(null);return e.useImperativeHandle(d,()=>o.current,[]),w(()=>{const u=o.current.geometry.attributes;u.position.needsUpdate=!0,t&&(u.color.needsUpdate=!0),c&&(u.size.needsUpdate=!0)}),e.createElement("points",y({ref:o},r),e.createElement("bufferGeometry",null,e.createElement("bufferAttribute",{attach:"attributes-position",count:a.length/n,array:a,itemSize:n,usage:g}),t&&e.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/n,array:t,itemSize:3,usage:g}),c&&e.createElement("bufferAttribute",{attach:"attributes-size",count:c.length/n,array:c,itemSize:1,usage:g})),s)}),D=e.forwardRef((s,a)=>s.positions instanceof Float32Array?e.createElement(I,y({},s,{ref:a})):e.createElement(W,y({},s,{ref:a})));function G({count:s=8e3,mouse:a}){const t=e.useRef(null),c=e.useMemo(()=>{const n=new Float32Array(s*3);for(let r=0;r<s;r++)n[r*3]=(Math.random()-.5)*30,n[r*3+1]=(Math.random()-.5)*30,n[r*3+2]=(Math.random()-.5)*30;return n},[s]);return w(n=>{const{clock:r}=n,d=r.getElapsedTime(),o=t.current.geometry.attributes.position.array;for(let u=0;u<s;u++){const l=u*3;o[l]+=Math.sin(d*.5+o[l+1]*.5)*.01,o[l+1]+=Math.cos(d*.3+o[l]*.5)*.01;const b=a.current[0]*15,v=a.current[1]*15,p=b-o[l],m=v-o[l+1],x=0-o[l+2];Math.sqrt(p*p+m*m+x*x)<5&&(o[l]+=p*.02,o[l+1]+=m*.02,o[l+2]+=x*.02)}t.current.geometry.attributes.position.needsUpdate=!0}),i.jsxs(D,{ref:t,children:[i.jsx("bufferGeometry",{children:i.jsx("bufferAttribute",{attach:"attributes-position",count:c.length/3,array:c,itemSize:3})}),i.jsx(N,{transparent:!0,color:"#00ffff",size:.04,sizeAttenuation:!0,depthWrite:!1,blending:U})]})}function q({onComplete:s}){const a=e.useRef([0,0]),{playTransition:t}=z();return e.useEffect(()=>{const c=n=>{a.current=[n.clientX/window.innerWidth*2-1,-(n.clientY/window.innerHeight)*2+1]};return window.addEventListener("mousemove",c),()=>window.removeEventListener("mousemove",c)},[]),i.jsxs("div",{className:"fixed inset-0 h-screen w-screen bg-black z-40 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 z-0",children:i.jsxs(k,{camera:{position:[0,0,10],fov:60},children:[i.jsx("color",{attach:"background",args:["#000011"]}),i.jsx(G,{mouse:a})]})}),i.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center pointer-events-none",children:i.jsxs(A.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:1.5,ease:"easeOut"},className:"text-center",children:[i.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 mb-4 tracking-tight filter drop-shadow-[0_0_20px_rgba(0,255,255,0.5)]",children:"ISHAQ BHOJANI"}),i.jsx("p",{className:"text-xl md:text-2xl text-cyan-200 tracking-[0.3em] font-light uppercase",children:"Full Stack Developer"})]})}),i.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-20",children:i.jsx(A.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:1},onClick:()=>{t(),s()},className:"px-8 py-3 border border-cyan-500 text-cyan-400 text-sm tracking-[0.2em] hover:bg-cyan-500 hover:text-black transition-all duration-300 uppercase rounded-sm backdrop-blur-sm",children:"Enter Universe"})})]})}export{q as default};
